// Примеры кода на языке 1С:Предприятие 8.3
// Этот файл можно использовать для написания и редактирования кода 1C в Cursor
// Расширение файла: .bsl (Business Scripting Language)

// ============================================
// 1. БАЗОВЫЙ СИНТАКСИС
// ============================================

// Переменные
Переменная1 = 10;
СтрокаПеременная = "Привет, мир!";
ДатаПеременная = '20240101';

// Массивы
Массив = Новый Массив;
Массив.Добавить(1);
Массив.Добавить(2);
Массив.Добавить(3);

// Структуры
Структура = Новый Структура;
Структура.Вставить("Имя", "Иван");
Структура.Вставить("Возраст", 25);

// ============================================
// 2. УСЛОВНЫЕ ОПЕРАТОРЫ
// ============================================

Если Переменная1 > 5 Тогда
    Сообщить("Переменная больше 5");
ИначеЕсли Переменная1 = 5 Тогда
    Сообщить("Переменная равна 5");
Иначе
    Сообщить("Переменная меньше 5");
КонецЕсли;

// ============================================
// 3. ЦИКЛЫ
// ============================================

// Цикл Для
Для Индекс = 1 По 10 Цикл
    Сообщить("Итерация: " + Индекс);
КонецЦикла;

// Цикл Пока
Счетчик = 0;
Пока Счетчик < 5 Цикл
    Счетчик = Счетчик + 1;
    Сообщить("Счетчик: " + Счетчик);
КонецЦикла;

// Цикл по коллекции
Для Каждого Элемент Из Массив Цикл
    Сообщить("Элемент: " + Элемент);
КонецЦикла;

// ============================================
// 4. РАБОТА С ЗАПРОСАМИ
// ============================================

Запрос = Новый Запрос;
Запрос.Текст = 
"ВЫБРАТЬ
|    СправочникНоменклатура.Ссылка КАК Номенклатура,
|    СправочникНоменклатура.Наименование КАК Наименование
|ИЗ
|    Справочник.Номенклатура КАК СправочникНоменклатура
|ГДЕ
|    СправочникНоменклатура.ЭтоГруппа = ЛОЖЬ";

РезультатЗапроса = Запрос.Выполнить();
Выборка = РезультатЗапроса.Выбрать();

Пока Выборка.Следующий() Цикл
    Сообщить(Выборка.Наименование);
КонецЦикла;

// ============================================
// 5. ОБРАБОТКА ОШИБОК
// ============================================

Попытка
    // Код, который может вызвать ошибку
    Результат = 10 / 0;
Исключение
    Сообщить("Произошла ошибка: " + ОписаниеОшибки());
КонецПопытки;

// ============================================
// 6. РАБОТА С ОБЪЕКТАМИ КОНФИГУРАЦИИ
// ============================================

// Создание нового документа
НовыйДокумент = Документы.РеализацияТоваровИУслуг.СоздатьДокумент();
НовыйДокумент.Дата = ТекущаяДата();
НовыйДокумент.Контрагент = Справочники.Контрагенты.НайтиПоНаименованию("ООО Рога и Копыта");
НовыйДокумент.Записать();

// Получение объекта по ссылке
ДокументОбъект = НовыйДокумент.ПолучитьОбъект();
ДокументОбъект.СуммаДокумента = 10000;
ДокументОбъект.Записать();

// ============================================
// 7. ФУНКЦИИ И ПРОЦЕДУРЫ
// ============================================

// Процедура
Процедура ВывестиПриветствие(Имя)
    Сообщить("Привет, " + Имя + "!");
КонецПроцедуры

// Функция
Функция ВычислитьСумму(Число1, Число2)
    Возврат Число1 + Число2;
КонецФункции

// Вызов
ВывестиПриветствие("Иван");
Сумма = ВычислитьСумму(5, 3);
Сообщить("Сумма: " + Сумма);

// ============================================
// 8. РАБОТА С ФАЙЛАМИ
// ============================================

// Чтение файла
ИмяФайла = "C:\Temp\file.txt";
Текст = "";
Попытка
    Текст = ЧтениеТекста.Прочитать(ИмяФайла);
    Сообщить("Содержимое файла: " + Текст);
Исключение
    Сообщить("Ошибка чтения файла: " + ОписаниеОшибки());
КонецПопытки;

// Запись в файл
Попытка
    ЗаписьТекста = Новый ЗаписьТекста;
    ЗаписьТекста.Открыть(ИмяФайла);
    ЗаписьТекста.Записать("Новая строка");
    ЗаписьТекста.Закрыть();
Исключение
    Сообщить("Ошибка записи файла: " + ОписаниеОшибки());
КонецПопытки;

// ============================================
// 9. РАБОТА С ДАТАМИ И ВРЕМЕНЕМ
// ============================================

ТекущаяДатаВремя = ТекущаяДата();
ТекущаяДата = НачалоДня(ТекущаяДатаВремя);
Вчера = ТекущаяДата - 86400; // минус 1 день в секундах
МесяцНазад = ДобавитьМесяц(ТекущаяДата, -1);

ФорматированнаяДата = Формат(ТекущаяДата, "ДФ=dd.MM.yyyy");
Сообщить("Сегодня: " + ФорматированнаяДата);

// ============================================
// 10. РАБОТА СО СТРОКАМИ
// ============================================

Строка1 = "Привет";
Строка2 = "мир";
ОбъединеннаяСтрока = Строка1 + ", " + Строка2 + "!";

// Поиск подстроки
Позиция = СтрНайти(ОбъединеннаяСтрока, "мир");
Если Позиция > 0 Тогда
    Сообщить("Найдено на позиции: " + Позиция);
КонецЕсли;

// Замена
НоваяСтрока = СтрЗаменить(ОбъединеннаяСтрока, "мир", "1С");

// Верхний/нижний регистр
ВерхнийРегистр = ВРег(ОбъединеннаяСтрока);
НижнийРегистр = НРег(ОбъединеннаяСтрока);

// ============================================
// 11. РАБОТА С ТАБЛИЦАМИ ЗНАЧЕНИЙ
// ============================================

Таблица = Новый ТаблицаЗначений;
Таблица.Колонки.Добавить("Имя");
Таблица.Колонки.Добавить("Возраст");

НоваяСтрока = Таблица.Добавить();
НоваяСтрока.Имя = "Иван";
НоваяСтрока.Возраст = 25;

НоваяСтрока = Таблица.Добавить();
НоваяСтрока.Имя = "Мария";
НоваяСтрока.Возраст = 30;

// Перебор строк таблицы
Для Каждого СтрокаТаблицы Из Таблица Цикл
    Сообщить(СтрокаТаблицы.Имя + " - " + СтрокаТаблицы.Возраст);
КонецЦикла;

// ============================================
// 12. ПОЛЕЗНЫЕ СОВЕТЫ ДЛЯ РАБОТЫ В CURSOR
// ============================================

// 1. Используйте комментарии для документирования кода
// 2. Именуйте переменные понятно (на русском языке в 1С это нормально)
// 3. Разбивайте сложный код на функции и процедуры
// 4. Используйте отступы для читаемости
// 5. Обрабатывайте ошибки через Попытка...Исключение
// 6. Для работы с конфигурацией используйте EDT (Eclipse-based Development Tools)
// 7. Для версионирования используйте выгрузку в XML формат



